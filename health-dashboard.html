<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Health Dashboard</title>
  <style>
    body { font-family: Arial; background:#f6f6f6; }
    .card { background:#fff; padding:15px; margin:10px; border-radius:8px }
    .ok { color:green }
    .fail { color:red }
  </style>
</head>
<body>
  <h1>ðŸ“Š SaÃºde dos RelatÃ³rios</h1>
  <div id="cards"></div>

<script>
async function load() {
  const res = await fetch('http://localhost:8000/api/health', {
    headers: { Authorization: 'Bearer MEU_TOKEN_SUPER_SEGURO' }
  });
  const data = await res.json();

  const container = document.getElementById('cards');
  container.innerHTML = '';

  for (const id in data.reports) {
    const r = data.reports[id];
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `
      <b>${id}</b><br>
      Status: <span class="${r.ok ? 'ok' : 'fail'}">${r.ok ? 'OK' : 'ERRO'}</span><br>
      Linhas: ${r.rows || 0}<br>
      Ãšltima atualizaÃ§Ã£o: ${r.lastUpdate}
    `;
    container.appendChild(div);
  }
}
load();
setInterval(load, 30000);
</script>
</body>
</html>
